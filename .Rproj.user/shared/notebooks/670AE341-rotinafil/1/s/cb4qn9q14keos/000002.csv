"0",""
"0","{"
"0","  # Step 1: import city database"
"0","  fCity = read_delim(""C:/Users/CepaTech/Documents/Profissional/SEPL/PowerBi 3/Banco de Dados/citiy/fcity2.csv"", "
"0","                       "";"", escape_double = FALSE, "
"0","                       locale = locale(decimal_mark = "","","
"0","                                       grouping_mark = ""."", "
"0","                                       encoding = ""UTF-8""),"
"0","                       trim_ws = TRUE)"
"0",""
"0",""
"0","  # Step 2: Rename columns"
"0","  colnames(fCity)[1] <- ""city_code"""
"0",""
"0","  # Step 3: creating a list "
"0","  temp = fCity "
"0","  temp = as.vector(temp)"
"0","  temp = as.vector(fCity$city_code)"
"0",""
"0","  # Step4: Export do db paste"
"0","  write.csv(fCity, ""C:/Users/CepaTech/Documents/GitHub/powerbi3.0/db/parameters/fCity.csv"")"
"0","  "
"0","  # Step 5: Create lowercase city parameter to joins with IBGE Databases"
"0","  fCity2 <- fCity"
"0","  fCity2$city <- tolower(fCity2$city)"
"0","  "
"0","} # Part 1: Prepare City reference to forward joins"
"1","[1m[1mRows: [1m[22m[34m[34m399[34m[39m [1m[1mColumns: [1m[22m[34m[34m3[34m[39m
"
"1","[36m--[39m [1m[1mColumn specification[1m[22m [36m-----------------------------------------------------------------------------[39m
[1mDelimiter:[22m "";""
[31mchr[39m (1): city
[32mdbl[39m (2): code, region
"
"1","
[36mi[39m Use [38;5;235m[48;5;253m[38;5;235m[48;5;253m`spec()`[48;5;253m[38;5;235m[49m[39m to retrieve the full column specification for this data.
[36mi[39m Specify the column types or set [38;5;235m[48;5;253m[38;5;235m[48;5;253m`show_col_types = FALSE`[48;5;253m[38;5;235m[49m[39m to quiet this message.
"
"0","{"
"0","  # Step 1: Import Database"
"0","  fPop <- read_excel(""~/Profissional/SEPL/PowerBi 3/Banco de Dados/population/pop_pr.xlsx"")"
"0","  "
"0","  # Step 2: Melt to create a year column"
"0","  fPop <- melt(fPop)"
"0","  colnames(fPop) <- c(""city"", ""variable"", ""year"", ""population"")"
"0","  fPop$variable <- ""population"""
"0","  fPop$year <- as.character(fPop$year)"
"0","  "
"0","  # Step 3: Export database"
"0","    write.csv(fPop, ""C:/Users/CepaTech/Documents/GitHub/powerbi3.0/db/parameters/fPop.csv"")"
"0",""
"0","  "
"0","} # Part 2: Prepare population to forward joins"
"2","Using Localidade, VariÃ¡vel as id variables
"
"0","{"
"0","  # Step 1: Create fType"
"0","  fType <- data.frame(type = c(""absolute"", ""rate"", ""por mil""), type_code = c(1:3))"
"0","  "
"0","  stand <- c(""reais"", ""individuos"", ""dias"",    ""%"", ""por mil hab"")"
"0","  fStandard <- data.frame(standard = stand,"
"0","                          standard_code = sequence(length(stand)))"
"0","  "
"0","  "
"0","  "
"0","  write.csv(fType,"
"0","            ""C:/Users/CepaTech/Documents/GitHub/powerbi3.0/db/parameters/fType.csv"")"
"0","  write.csv(fStandard,"
"0","            ""C:/Users/CepaTech/Documents/GitHub/powerbi3.0/db/parameters/fStandard.csv"")"
"0",""
"0",""
"0",""
"0","  "
"0","} # Part 3: Create General use parameter"
"0",""
"0",""
"0",""
"0",""
